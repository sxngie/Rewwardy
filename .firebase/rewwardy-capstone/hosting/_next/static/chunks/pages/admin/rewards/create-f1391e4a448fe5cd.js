(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[85],{5819:function(e,t,r){"use strict";r.d(t,{Z:function(){return k}});var i=r(3366),n=r(7462),a=r(7294),o=r(512),s=r(4780),l=r(1796),d=r(1496),c=r(7623),u=r(9773),p=r(7739),m=r(8974),h=r(1705),f=r(1588);let v=(0,f.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),b=(0,f.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),g=(0,f.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var x=r(4867);function getMenuItemUtilityClass(e){return(0,x.Z)("MuiMenuItem",e)}let y=(0,f.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=r(5893);let j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],useUtilityClasses=e=>{let{disabled:t,dense:r,divider:i,disableGutters:a,selected:o,classes:l}=e,d=(0,s.Z)({root:["root",r&&"dense",t&&"disabled",!a&&"gutters",i&&"divider",o&&"selected"]},getMenuItemUtilityClass,l);return(0,n.Z)({},l,d)},C=(0,d.ZP)(p.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.dense&&t.dense,r.divider&&t.divider,!r.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,n.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${y.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${y.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,l.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${y.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${y.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.inset}`]:{marginLeft:52},[`& .${g.root}`]:{marginTop:0,marginBottom:0},[`& .${g.inset}`]:{paddingLeft:36},[`& .${b.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,n.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${b.root} svg`]:{fontSize:"1.25rem"}}))),_=a.forwardRef(function(e,t){let r;let s=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:p=!1,divider:f=!1,disableGutters:v=!1,focusVisibleClassName:b,role:g="menuitem",tabIndex:x,className:y}=s,_=(0,i.Z)(s,j),k=a.useContext(u.Z),Z=a.useMemo(()=>({dense:p||k.dense||!1,disableGutters:v}),[k.dense,p,v]),I=a.useRef(null);(0,m.Z)(()=>{l&&I.current&&I.current.focus()},[l]);let M=(0,n.Z)({},s,{dense:Z.dense,divider:f,disableGutters:v}),S=useUtilityClasses(s),N=(0,h.Z)(I,t);return s.disabled||(r=void 0!==x?x:-1),(0,w.jsx)(u.Z.Provider,{value:Z,children:(0,w.jsx)(C,(0,n.Z)({ref:N,role:g,tabIndex:r,component:d,focusVisibleClassName:(0,o.Z)(S.focusVisible,b),className:(0,o.Z)(S.root,y)},_,{ownerState:M,classes:S}))})});var k=_},6489:function(e,t){"use strict";/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");for(var i={},n=e.split(";"),a=(t||{}).decode||r,o=0;o<n.length;o++){var s=n[o],l=s.indexOf("=");if(!(l<0)){var d=s.substring(0,l).trim();if(void 0==i[d]){var c=s.substring(l+1,s.length).trim();'"'===c[0]&&(c=c.slice(1,-1)),i[d]=function(e,t){try{return t(e)}catch(t){return e}}(c,a)}}}return i},t.serialize=function(e,t,r){var a=r||{},o=a.encode||i;if("function"!=typeof o)throw TypeError("option encode is invalid");if(!n.test(e))throw TypeError("argument name is invalid");var s=o(t);if(s&&!n.test(s))throw TypeError("argument val is invalid");var l=e+"="+s;if(null!=a.maxAge){var d=a.maxAge-0;if(isNaN(d)||!isFinite(d))throw TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(d)}if(a.domain){if(!n.test(a.domain))throw TypeError("option domain is invalid");l+="; Domain="+a.domain}if(a.path){if(!n.test(a.path))throw TypeError("option path is invalid");l+="; Path="+a.path}if(a.expires){if("function"!=typeof a.expires.toUTCString)throw TypeError("option expires is invalid");l+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(l+="; HttpOnly"),a.secure&&(l+="; Secure"),a.sameSite)switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:case"strict":l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"none":l+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return l};var r=decodeURIComponent,i=encodeURIComponent,n=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/},255:function(e,t,r){"use strict";var i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},n=this&&this.__rest||function(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)0>t.indexOf(i[n])&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.hasCookie=t.deleteCookie=t.setCookie=t.getCookie=t.getCookies=void 0;var a=r(6489),isClientSide=function(){return"undefined"!=typeof window},isCookiesFromAppRouterMiddleware=function(e){return!!e&&"set"in e&&"function"==typeof e.getAll&&"function"==typeof e.set},isContextFromAppRouterMiddleware=function(e){return!!(null==e?void 0:e.req)&&"cookies"in e.req&&isCookiesFromAppRouterMiddleware(null==e?void 0:e.req.cookies)||!!(null==e?void 0:e.res)&&"cookies"in e.res&&isCookiesFromAppRouterMiddleware(null==e?void 0:e.res.cookies)},transformAppRouterMiddlewareCookies=function(e){var t={};return e.getAll().forEach(function(e){var r=e.name,i=e.value;t[r]=i}),t},stringify=function(e){void 0===e&&(e="");try{var t=JSON.stringify(e);return/^[\{\[]/.test(t)?t:e}catch(t){return e}};t.getCookies=function(e){if(isContextFromAppRouterMiddleware(e)&&(null==e?void 0:e.req))return transformAppRouterMiddlewareCookies(e.req.cookies);if(e&&(t=e.req),!isClientSide())return t&&t.cookies?t.cookies:t&&t.headers.cookie?(0,a.parse)(t.headers.cookie):{};for(var t,r={},i=document.cookie?document.cookie.split("; "):[],n=0,o=i.length;n<o;n++){var s=i[n].split("="),l=s.slice(1).join("=");r[s[0]]=l}return r},t.getCookie=function(e,r){var i=(0,t.getCookies)(r)[e];if(void 0!==i)return i?i.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent):i},t.setCookie=function(e,t,r){if(isContextFromAppRouterMiddleware(r)){var o,s,l,d=r.req,c=r.res,u=n(r,["req","res"]),p=i({name:e,value:t},u);d&&d.cookies.set(p),c&&c.cookies.set(p);return}if(r){var d=r.req,c=r.res,m=n(r,["req","res"]);s=d,l=c,o=m}var h=(0,a.serialize)(e,stringify(t),i({path:"/"},o));if(isClientSide())document.cookie=h;else if(l&&s){var f=l.getHeader("Set-Cookie");if(Array.isArray(f)||(f=f?[String(f)]:[]),l.setHeader("Set-Cookie",f.concat(h)),s&&s.cookies){var v=s.cookies;""===t?delete v[e]:v[e]=stringify(t)}if(s&&s.headers&&s.headers.cookie){var v=(0,a.parse)(s.headers.cookie);""===t?delete v[e]:v[e]=stringify(t),s.headers.cookie=Object.entries(v).reduce(function(e,t){return e.concat("".concat(t[0],"=").concat(t[1],";"))},"")}}},t.deleteCookie=function(e,r){return(0,t.setCookie)(e,"",i(i({},r),{maxAge:-1}))},t.hasCookie=function(e,r){return!!e&&(0,t.getCookies)(r).hasOwnProperty(e)}},568:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/rewards/create",function(){return r(9189)}])},6577:function(e,t,r){"use strict";var i=r(5893),n=r(2403),a=r.n(n),o=r(1664),s=r.n(o),l=r(6281);let HamburgerIcon=()=>(0,i.jsx)("div",{className:"p-1/2",children:(0,i.jsx)("svg",{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"white",children:(0,i.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})});t.Z=()=>(0,i.jsx)("div",{className:a().shapingBar,children:(0,i.jsx)(l.slide,{customBurgerIcon:(0,i.jsx)(HamburgerIcon,{}),width:"auto",className:a().burgermenubar,children:(0,i.jsxs)("div",{className:a().listOfItems,children:[(0,i.jsx)(s(),{href:"/dashboard",className:a().menuItems,children:"Home"}),(0,i.jsx)(s(),{href:"/reward",className:a().menuItems,children:"Rewards"}),(0,i.jsx)(s(),{href:"/challenge",className:a().menuItems,children:"Challenges"}),(0,i.jsx)(s(),{href:"/scanner",className:a().menuItems,children:"QR Scanner"})]})})})},6253:function(e,t,r){"use strict";r.d(t,{dc:function(){return AdminFooter_Footer},$_:function(){return Footer},lK:function(){return ButtonAppBar}});var i=r(5893),n=r(3111),a=r.n(n);function Footer(){return(0,i.jsx)("div",{className:a().bottombar,children:(0,i.jsx)("div",{className:a().row,children:(0,i.jsx)("p",{children:"Rewwardy 2023"})})})}function AdminFooter_Footer(){return(0,i.jsx)("div",{className:a().adminbottombar,children:(0,i.jsx)("div",{className:a().adminrow,children:(0,i.jsx)("p",{children:"Rewwardy 2023"})})})}r(6577);var o=r(7294),s=r(2293),l=r(7357),d=r(155),c=r(5861),u=r(326),p=r(1261);function ButtonAppBar(){let[e,t]=(0,o.useState)(!1);return(0,i.jsx)(l.Z,{sx:{flexGrow:1},children:(0,i.jsx)(s.Z,{position:"static",sx:{bgcolor:"#fff",color:"#552CB4"},children:(0,i.jsxs)(d.Z,{children:[(0,i.jsx)(c.Z,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Dashboard"}),(0,i.jsxs)(u.Z,{open:e,onClose:()=>t(!1),MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,i.jsx)(p.MenuItem,{children:"Create Reward"}),(0,i.jsx)(p.MenuItem,{children:"Manage Rewards"}),(0,i.jsx)(p.MenuItem,{children:"Logout"})]})]})})})}},6740:function(e,t,r){"use strict";r.d(t,{db:function(){return s}});var i=r(3977);r(8887);var n=r(9828),a=r(1259);let o=(0,i.ZF)({apiKey:"AIzaSyAN9uJ18yZMHR0qYDM-_-VIewa0xZ2XnVE",authDomain:"rewwardy-capstone.firebaseapp.com",projectId:"rewwardy-capstone",storageBucket:"rewwardy-capstone.appspot.com",messagingSenderId:"859664818673",appId:"1:859664818673:web:788f4abfd6b5b211d32450",measurementId:"G-XH5DP210M6"});(0,a.v0)(o);let s=(0,n.ad)(o)},9189:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return CreateReward}});var i,n=r(5893),a=r(7294),o=r(8793),s=r.n(o),l=r(1903),d=r(3340),c=r(3322),u=r(5819),p=r(4054),m=r(89),h=r(9417),f=r(9008),v=r.n(f),b=r(6727),g=r(6253),x=r(3366),y=r(7462),w=r(512),j=r(4780),C=r(8216),_=r(5861),k=r(7167),Z=r(4423),I=r(1496),M=r(1588),S=r(4867);function getInputAdornmentUtilityClass(e){return(0,S.Z)("MuiInputAdornment",e)}let N=(0,M.Z)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var R=r(7623);let O=["children","className","component","disablePointerEvents","disableTypography","position","variant"],useUtilityClasses=e=>{let{classes:t,disablePointerEvents:r,hiddenLabel:i,position:n,size:a,variant:o}=e,s={root:["root",r&&"disablePointerEvents",n&&`position${(0,C.Z)(n)}`,o,i&&"hiddenLabel",a&&`size${(0,C.Z)(a)}`]};return(0,j.Z)(s,getInputAdornmentUtilityClass,t)},A=(0,I.ZP)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`position${(0,C.Z)(r.position)}`],!0===r.disablePointerEvents&&t.disablePointerEvents,t[r.variant]]}})(({theme:e,ownerState:t})=>(0,y.Z)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===t.variant&&{[`&.${N.positionStart}&:not(.${N.hiddenLabel})`]:{marginTop:16}},"start"===t.position&&{marginRight:8},"end"===t.position&&{marginLeft:8},!0===t.disablePointerEvents&&{pointerEvents:"none"})),F=a.forwardRef(function(e,t){let r=(0,R.Z)({props:e,name:"MuiInputAdornment"}),{children:o,className:s,component:l="div",disablePointerEvents:d=!1,disableTypography:c=!1,position:u,variant:p}=r,m=(0,x.Z)(r,O),h=(0,Z.Z)()||{},f=p;p&&h.variant,h&&!f&&(f=h.variant);let v=(0,y.Z)({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:d,position:u,variant:f}),b=useUtilityClasses(v);return(0,n.jsx)(k.Z.Provider,{value:null,children:(0,n.jsx)(A,(0,y.Z)({as:l,ownerState:v,className:(0,w.Z)(b.root,s),ref:t},m,{children:"string"!=typeof o||c?(0,n.jsxs)(a.Fragment,{children:["start"===u?i||(i=(0,n.jsx)("span",{className:"notranslate",children:"​"})):null,o]}):(0,n.jsx)(_.Z,{color:"text.secondary",children:o})}))})});var $=r(255),E=r(6740),P=r(9828),T=r(1163);function CreateReward(){let[e,t]=(0,a.useState)(""),[r,i]=(0,a.useState)(""),[o,f]=(0,a.useState)(""),[x,y]=(0,a.useState)(10),[w,j]=(0,a.useState)(""),[C,_]=(0,a.useState)(""),k=(0,T.useRouter)(),Z=(0,$.getCookie)("businessid"),createReward=async()=>{await (0,P.ET)((0,P.hJ)(E.db,"business_rewards"),{name:e,description:r,milestoneType:o,milestoneValue:x,validFrom:w,validUntil:C,businessId:Z}).then(e=>{alert("You have created a Reward!\nReward ID: ".concat(e.id)),k.push("/admin/rewards")}).catch(e=>alert(e.message))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(v(),{children:[(0,n.jsx)("title",{children:"Rewwardy: Create Reward"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/Images/Rewwardy-Icon.png"})]}),(0,n.jsxs)("main",{className:s().main,children:[(0,n.jsx)("div",{className:s().headerbar,children:(0,n.jsx)("h2",{children:"Create Reward"})}),(0,n.jsxs)("div",{className:s().form,children:[(0,n.jsx)(l.Z,{id:"standard-basic",label:"Name",variant:"standard",value:e,onChange:e=>t(e.target.value),InputLabelProps:{sx:{color:"#552CB4",["&.".concat(b.Z.shrink)]:{color:"#552CB4"}}}}),(0,n.jsx)("br",{}),(0,n.jsx)(l.Z,{id:"standard-basic",label:"Description",variant:"standard",multiline:!0,rows:5,value:r,InputLabelProps:{sx:{color:"#552CB4",["&.".concat(b.Z.shrink)]:{color:"#552CB4"}}},onChange:e=>i(e.target.value)}),(0,n.jsx)("br",{}),(0,n.jsx)(d.Z,{children:"Milestone Type"}),(0,n.jsxs)(c.Z,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:o,label:"Milestone Type",className:s().select,onChange:e=>f(e.target.value),children:[(0,n.jsx)(u.Z,{value:"money_spent",children:"Money Spent"}),(0,n.jsx)(u.Z,{value:"visits",children:"Visits"}),(0,n.jsx)(u.Z,{value:"quanitity",children:"Quantity"})]}),(0,n.jsx)("br",{}),(0,n.jsxs)(p.Z,{fullWidth:!0,sx:{m:1},variant:"standard",children:[(0,n.jsx)(d.Z,{htmlFor:"standard-adornment-amount",children:"Amount"}),(0,n.jsx)(m.Z,{id:"standard-adornment-amount",startAdornment:"money_spent"==o&&(0,n.jsx)(F,{position:"start",children:"$"})})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{className:s().label,children:["Valid From",(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"date",value:w,className:s().dateinput,onChange:e=>j(e.target.value)})]}),(0,n.jsx)("br",{}),(0,n.jsxs)("label",{className:s().label,children:["Valid Until",(0,n.jsx)("br",{}),(0,n.jsx)("input",{type:"date",value:C,className:s().dateinput,onChange:e=>_(e.target.value)})]}),(0,n.jsx)("br",{}),(0,n.jsx)("div",{className:s().btnrow,children:(0,n.jsx)(h.Z,{variant:"contained",className:s().btn,onClick:()=>createReward(),children:"Create Reward"})})]})]}),(0,n.jsx)(g.dc,{})]})}},8793:function(e){e.exports={main:"create_main__d_I9f",headerbar:"create_headerbar__liQ4o",form:"create_form__RpWCr",select:"create_select__V2HaE",label:"create_label__aAyjE",dateinput:"create_dateinput__acQFI",btnrow:"create_btnrow__ziLwm",btn:"create_btn__NF1me"}},3111:function(e){e.exports={bottombar:"Footer_bottombar__ng1M0",adminbottombar:"Footer_adminbottombar__BcUZc"}},2403:function(e){e.exports={burgerbutton:"HamburgerMenu_burgerbutton__YC7K9",menuItems:"HamburgerMenu_menuItems__p0Ha4",burgermenubar:"HamburgerMenu_burgermenubar__4nzBo",shapingBar:"HamburgerMenu_shapingBar__LIYNM",listOfItems:"HamburgerMenu_listOfItems___fJjr"}}},function(e){e.O(0,[663,16,737,22,417,903,719,774,888,179],function(){return e(e.s=568)}),_N_E=e.O()}]);